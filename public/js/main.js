const currentVersion="2.3.3",date=(chrome.runtime.sendMessage({action:"checkUpdate"},e=>{if(e.success){if(e.version!==currentVersion){const t=document.getElementById("update-popup");t.style.display="block"}}else console.error("Error fetching update info:",e.error)}),document.getElementById("close-popup").addEventListener("click",()=>{const e=document.getElementById("update-popup");e.style.display="none"}),null==localStorage.getItem("name")&&localStorage.setItem("name",""),null==localStorage.getItem("todo")&&localStorage.setItem("todo",""),new Date);function showTime(){const e=document.querySelector(".hour"),t=document.querySelector(".minute"),o=document.querySelector(".session"),a=new Date;let n=a.getHours();12<n?n-=12:0===n&&(n=12),e.innerHTML=n,t.innerHTML=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes(),o.innerHTML=12<=a.getHours()?"PM":"AM",setTimeout(showTime,1e3)}showTime();const day=document.querySelector(".day"),month=document.querySelector(".month"),year=document.querySelector(".year"),wellcome=(day.innerHTML=date.getDate(),month.innerHTML=date.getMonth()+1,year.innerHTML=date.getFullYear(),document.querySelector(".wellcome")),currentTime=date.getHours(),inputName=(6<=currentTime&&currentTime<=11?wellcome.innerText="Good Morning":12<=currentTime&&currentTime<=17?wellcome.innerText="Good Afternoon":wellcome.innerText="Good Evening",document.querySelector(".inputName"));inputName.addEventListener("input",()=>{localStorage.setItem("name",inputName.value)}),inputName.setAttribute("value",localStorage.getItem("name"));let searchInput=document.querySelector(".searchInput"),searchButton=document.querySelector(".searchButton");searchInput.addEventListener("keyup",function(e){e.preventDefault(),13===e.keyCode&&searchButton.click()}),searchButton.onclick=function(){var e="https://www.google.com/search?q="+searchInput.value;window.open(e,"_self")},chrome.runtime.sendMessage({action:"getHistory"},function(e){if(e&&e.data){const n={},t=(e.data.forEach(t=>{try{var e,o=new URL(t.url);const a=o.hostname;n[a]||(e=a.replace(/^www\./,"").split(".")[0].replace(/^\w/,e=>e.toUpperCase()),n[a]={count:0,sampleUrl:o.protocol+"//"+o.hostname,sampleTitle:e}),n[a].count+=1}catch(e){console.warn("Invalid URL skipped:",t.url)}}),Object.entries(n).sort((e,t)=>t[1].count-e[1].count).slice(0,8)),a=document.getElementById("shortcut-list");a.innerHTML="",t.forEach(([e,t])=>{const o=document.createElement("li");o.innerHTML=`
            <a href="${t.sampleUrl}">
                <img src="${"https://www.google.com/s2/favicons?sz=64&domain="+e}">
                <p>${t.sampleTitle}</p>
            </a>
        `,a.appendChild(o)})}}),fetch("js/quotes.json").then(e=>e.json()).then(e=>{e=e[Math.floor(Math.random()*e.length)];const t=document.querySelector(".quote"),o=document.querySelector(".author");t.textContent=e.quote,o.textContent="â€” "+e.author}).catch(e=>{const t=document.querySelector(".quote"),o=document.querySelector(".author");t.textContent="No Wi-Fi, no wisdom. Reconnect and try again",o.textContent=""});const todo=document.querySelector(".todo"),todoIcon=(todo.addEventListener("input",()=>{localStorage.setItem("todo",todo.value)}),todo.setAttribute("value",localStorage.getItem("todo")),document.querySelector(".todoIcon")),todoList=document.querySelector(".todoList"),closeButtonOne=document.querySelector(".closeOne"),blurBackground=document.createElement("div"),todoInput=(blurBackground.classList.add("blur-background"),document.body.appendChild(blurBackground),todoIcon.addEventListener("click",e=>{todoList.classList.toggle("show"),blurBackground.classList.toggle("active"),todoInput.focus(),e.stopPropagation()}),closeButtonOne.addEventListener("click",()=>{todoList.classList.remove("show"),blurBackground.classList.remove("active")}),todoList.addEventListener("click",e=>{e.stopPropagation()}),document.addEventListener("click",e=>{todoList.contains(e.target)||e.target===todoIcon||(todoList.classList.remove("show"),blurBackground.classList.remove("active"))}),document.querySelector(".todoInput")),todoButton=document.querySelector(".todoButton"),todoButtonClear=document.querySelector(".todoButtonClear"),tasksDiv=document.querySelector(".tasks");let tasks=[];function addTasksToArray(){var e={id:Date.now(),title:todoInput.value};tasks.push(e),addTasksToPage(),addTasksToLocalStorage()}function addTasksToPage(){tasksDiv.innerHTML="",tasks.forEach(e=>{e.completed&&t.classList.add("done");const t=document.createElement("div"),o=(t.setAttribute("data-id",e.id),t.innerHTML=e.title,document.createElement("i"));o.className="close",t.appendChild(o),tasksDiv.appendChild(t)})}function addTasksToLocalStorage(){localStorage.setItem("tasks",JSON.stringify(tasks))}function getDataFromLocalStorage(){var e=localStorage.getItem("tasks");e&&(JSON.parse(e),addTasksToPage())}function delTask(t){tasks=tasks.filter(e=>e.id!=t),addTasksToLocalStorage()}localStorage.getItem("tasks")&&(tasks=JSON.parse(localStorage.getItem("tasks"))),getDataFromLocalStorage(),todoInput.addEventListener("keypress",function(e){"Enter"===e.key&&(e.preventDefault(),todoButton.click())}),todoButton.addEventListener("click",()=>{""!==todoInput&&(addTasksToArray(),todoInput.value="")}),tasksDiv.addEventListener("click",e=>{e.target.classList.contains("close")&&(delTask(e.target.parentElement.getAttribute("data-id")),e.target.parentElement.remove())}),todoButtonClear.addEventListener("click",()=>{tasksDiv.innerHTML="There are no tasks",localStorage.removeItem("tasks"),tasks=[]});const settingsIcon=document.querySelector(".settingsIcon"),settings=document.querySelector(".settings"),closeButtonTwo=document.querySelector(".closeTwo"),checkbox=(settingsIcon.addEventListener("click",e=>{settings.classList.toggle("show"),blurBackground.classList.toggle("active"),e.stopPropagation()}),closeButtonTwo.addEventListener("click",()=>{settings.classList.remove("show"),blurBackground.classList.remove("active")}),settings.addEventListener("click",e=>{e.stopPropagation()}),document.addEventListener("click",e=>{settings.contains(e.target)||e.target===settingsIcon||(settings.classList.remove("show"),blurBackground.classList.remove("active"))}),document.getElementById("toggle-shortcuts")),targetElement=document.querySelector("#shortcut-list"),savedState=(null===localStorage.getItem("showShortcuts")&&localStorage.setItem("showShortcuts","false"),"true"===localStorage.getItem("showShortcuts"));function updateThumbnail(e,t){let o=e.querySelector(".drop-zone__thumb");if(e.querySelector(".drop-zone__prompt")&&e.querySelector(".drop-zone__prompt").remove(),o||((o=document.createElement("div")).classList.add("drop-zone__thumb"),e.appendChild(o)),o.dataset.label=t.name,t.type.startsWith("image/")){const a=new FileReader;a.readAsDataURL(t),a.onload=()=>{chrome.storage.local.set({wallpaper:a.result},()=>{o.style.backgroundImage=`url(${a.result})`,document.body.style.backgroundImage=`url(${a.result})`,document.location.reload(!0)})}}else o.style.backgroundImage=null}checkbox.checked=savedState,targetElement.classList.toggle("active",savedState),checkbox.addEventListener("change",()=>{var e=checkbox.checked;localStorage.setItem("showShortcuts",e),targetElement.classList.toggle("active",e)}),document.querySelectorAll(".drop-zone__input").forEach(t=>{const o=t.closest(".drop-zone");o.addEventListener("click",e=>{t.click()}),t.addEventListener("change",e=>{t.files.length&&updateThumbnail(o,t.files[0])}),o.addEventListener("dragover",e=>{e.preventDefault(),o.classList.add("drop-zone--over")}),["dragleave","dragend"].forEach(e=>{o.addEventListener(e,e=>{o.classList.remove("drop-zone--over")})}),o.addEventListener("drop",e=>{e.preventDefault(),e.dataTransfer.files.length&&(t.files=e.dataTransfer.files,updateThumbnail(o,e.dataTransfer.files[0])),o.classList.remove("drop-zone--over")})}),chrome.storage.local.get("wallpaper",e=>{e.wallpaper&&(document.body.style.backgroundImage=`url(${e.wallpaper})`)}),chrome.storage.local.get("wallpaper",e=>{e.wallpaper?document.body.style.backgroundImage=`url(${e.wallpaper})`:(e="images/wallpaper.jpg",document.body.style.backgroundImage=`url(${e})`,chrome.storage.local.set({wallpaper:e}))}),console.log("%c Developed by: Eng. Kareem Elramady https://kareem.is-a.dev","background: white; color: black; padding: 10px; border: 1px solid black; font-size: 16px; border-radius: 10px;");
//# sourceMappingURL=main.js.map
